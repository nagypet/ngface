<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>NgfaceElements</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="indigo-pink.css">
  <link rel="stylesheet" href="ngface.css">
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp">
</head>
<body>

<!--<ngface-button formdatajson="{id: 'alma', title: '', widgets: {}}" widgetid="button-ok"></ngface-button>-->
<div class="container">
  <h1>Using ngface widgets from plane HTML</h1>
  <br>
  <div class="ngface-form">
    <ngface-form-element id="myform">
      <div class="ngface-row">
        <ngface-text-input-element id="name" widgetid="name"></ngface-text-input-element>
        <ngface-text-input-element id="place-of-birth" widgetid="place-of-birth"></ngface-text-input-element>
        <ngface-text-input-element id="email" widgetid="email"></ngface-text-input-element>
        <ngface-text-input-element id="role" widgetid="role"></ngface-text-input-element>
      </div>
      <div class="ngface-row">
        <ngface-numeric-input-element id="amount" widgetid="amount"></ngface-numeric-input-element>
        <ngface-numeric-input-element id="count-samples" widgetid="count-samples"></ngface-numeric-input-element>
      </div>
      <div class="ngface-row">
        <ngface-date-input-element id="check-in-date" widgetid="check-in-date"></ngface-date-input-element>
        <ngface-date-input-element id="check-out-date" widgetid="check-out-date"></ngface-date-input-element>
        <ngface-date-range-input-element id="date-range" widgetid="date-range"></ngface-date-range-input-element>
        <ngface-date-range-input-element id="date-range2" widgetid="date-range2"></ngface-date-range-input-element>
      </div>
      <div class="ngface-row">
        <ngface-select-element id="select" widgetid="select"></ngface-select-element>
        <ngface-select-element id="select2" widgetid="select2"></ngface-select-element>
        <ngface-select-element id="select3" widgetid="select3"></ngface-select-element>
      </div>
      <ngface-data-table-element id="table-multiselect" widgetid="table-multiselect" heightpx="300">
      </ngface-data-table-element>
      <div class="ngface-row">
        <ngface-button-element id="button-ok" widgetid="button-ok"></ngface-button-element>
        <ngface-button-element id="button-cancel" widgetid="button-cancel"></ngface-button-element>
      </div>
    </ngface-form-element>
  </div>
</div>
<script src="ngface-webcomp.js" defer></script>

<script type="text/javascript">
  function getFormData() {
    const formData = {
      "id": "demo-form",
      "title": null,
      "widgets": {
        "name": {
          "type": "TextInput",
          "id": "name",
          "label": "Owner's name",
          "hint": "Name of the account owner",
          "enabled": true,
          "data": {
            "type": "TextInput.Data",
            "value": "Peter"
          },
          "placeholder": "Your name",
          "validators": [
            {
              "type": "Required",
              "message": "Name is required!"
            },
            {
              "type": "Pattern",
              "message": "Name has to begin with an uppercase letter and may contain only letters!",
              "pattern": "[A-Z]{1}[a-z]*"
            },
            {
              "type": "Size",
              "message": "The name must be max 15 chars long!",
              "min": 0,
              "max": 15
            }
          ]
        },
        "place-of-birth": {
          "type": "TextInput",
          "id": "place-of-birth",
          "label": "Place of birth",
          "hint": "Very long tooltip to see how it is rendered. kjh gkjhg kjhg kjhg kjgh kjhg kjhg kjhg kjhg kjhg kjhg kjg khjg kjhg kjh",
          "enabled": true,
          "data": {
            "type": "TextInput.Data",
            "value": null
          },
          "placeholder": null,
          "validators": []
        },
        "email": {
          "type": "TextInput",
          "id": "email",
          "label": "Email",
          "hint": null,
          "enabled": true,
          "data": {
            "type": "TextInput.Data",
            "value": null
          },
          "placeholder": null,
          "validators": [
            {
              "type": "Required",
              "message": "Email address is required!"
            },
            {
              "type": "Email",
              "message": "Wrong email format!"
            }
          ]
        },
        "role": {
          "type": "TextInput",
          "id": "role",
          "label": "User's role",
          "hint": "Disabled control",
          "enabled": false,
          "data": {
            "type": "TextInput.Data",
            "value": "Admin"
          },
          "placeholder": null,
          "validators": []
        },
        "amount": {
          "type": "NumericInput",
          "id": "amount",
          "label": "Amount",
          "hint": "Must be between 0 and 99.999,99 EUR",
          "enabled": true,
          "data": {
            "type": "NumericInput.Data",
            "value": 2.123456789
          },
          "placeholder": "Type in the amount",
          "validators": [
            {
              "type": "Required",
              "message": "Amount is required!"
            },
            {
              "type": "Min",
              "message": "The min amount is 0,01 EUR",
              "min": 0.01
            },
            {
              "type": "Max",
              "message": "The max amount is 99.999,99 EUR",
              "max": 99999.99
            }
          ],
          "format": {
            "validators": [],
            "precision": 2,
            "prefix": null,
            "suffix": "â‚¬"
          }
        },
        "count-samples": {
          "type": "NumericInput",
          "id": "count-samples",
          "label": "Count of samples",
          "hint": "Must be between 1-99",
          "enabled": true,
          "data": {
            "type": "NumericInput.Data",
            "value": 10
          },
          "placeholder": "Type in the count of samples, you want to print",
          "validators": [
            {
              "type": "Required",
              "message": "Count of samples is required!"
            },
            {
              "type": "Min",
              "message": "The count have to be between 1 and 99!",
              "min": 1
            },
            {
              "type": "Max",
              "message": "The count have to be between 1 and 99!",
              "max": 99
            }
          ],
          "format": {
            "validators": [],
            "precision": 0,
            "prefix": null,
            "suffix": "pcs"
          }
        },
        "account-no": {
          "type": "TextInput",
          "id": "account-no",
          "label": "Account number",
          "hint": null,
          "enabled": true,
          "data": null,
          "placeholder": "00000000-00000000-00000000",
          "validators": []
        },
        "check-in-date": {
          "type": "DateInput",
          "id": "check-in-date",
          "label": "Check-in",
          "hint": "DateInput",
          "enabled": true,
          "data": {
            "type": "DateInput.Data",
            "value": "2023-04-09"
          },
          "placeholder": null,
          "validators": []
        },
        "check-out-date": {
          "type": "DateInput",
          "id": "check-out-date",
          "label": "Check-out",
          "hint": "DateInput",
          "enabled": true,
          "data": {
            "type": "DateInput.Data",
            "value": null
          },
          "placeholder": null,
          "validators": []
        },
        "date-range": {
          "type": "DateRangeInput",
          "id": "date-range",
          "label": "Check-in - Check-out",
          "hint": "DateRangeInput - date-range",
          "enabled": true,
          "data": {
            "type": "DateRangeInput.Data",
            "startDate": "2023-04-09",
            "endDate": "2023-04-10"
          },
          "placeholder": "Start date",
          "validators": [
            {
              "type": "Required",
              "message": "Start date is required!"
            }
          ],
          "placeholder2": "End date",
          "validators2": [
            {
              "type": "Required",
              "message": "End date is required!"
            }
          ]
        },
        "date-range2": {
          "type": "DateRangeInput",
          "id": "date-range2",
          "label": "Check-in - Check-out uninitialized",
          "hint": "DateRangeInput - date-range2",
          "enabled": false,
          "data": null,
          "placeholder": null,
          "validators": [],
          "placeholder2": null,
          "validators2": []
        },
        "select": {
          "type": "Select",
          "id": "select",
          "label": "Select",
          "hint": "no default, required",
          "enabled": true,
          "data": {
            "type": "Select.Data",
            "options": {
              "id_first": "First option",
              "id_second": "Second option"
            },
            "selected": null
          },
          "placeholder": "Select an option!",
          "validators": [
            {
              "type": "Required",
              "message": "Must select an option!"
            }
          ]
        },
        "select2": {
          "type": "Select",
          "id": "select2",
          "label": "Select",
          "hint": "no default, not required",
          "enabled": true,
          "data": {
            "type": "Select.Data",
            "options": {
              "id_first": "First option",
              "id_second": "Second option"
            },
            "selected": null
          },
          "placeholder": "Select an option!",
          "validators": []
        },
        "select3": {
          "type": "Select",
          "id": "select3",
          "label": "Select",
          "hint": "First option is default",
          "enabled": true,
          "data": {
            "type": "Select.Data",
            "options": {
              "id_first": "First option",
              "id_second": "Second option"
            },
            "selected": "id_first"
          },
          "placeholder": "Select an option!",
          "validators": []
        },
        "table-multiselect": {
          "type": "Table",
          "id": "table-multiselect",
          "label": "Elements",
          "hint": null,
          "enabled": true,
          "data": {
            "type": "Table.Data",
            "paginator": {
              "pageIndex": 0,
              "pageSize": 5,
              "length": 20,
              "pageSizeOptions": [
                3,
                5,
                10,
                20
              ]
            },
            "sorter": null,
            "filtererMap": {
              "symbol": {
                "column": "symbol",
                "valueSet": {
                  "remote": false,
                  "truncated": false,
                  "values": [
                    {
                      "text": "Al",
                      "selected": true
                    },
                    {
                      "text": "Ar",
                      "selected": true
                    },
                    {
                      "text": "B",
                      "selected": true
                    },
                    {
                      "text": "Be",
                      "selected": true
                    },
                    {
                      "text": "C",
                      "selected": true
                    },
                    {
                      "text": "Ca",
                      "selected": true
                    },
                    {
                      "text": "Cl",
                      "selected": true
                    },
                    {
                      "text": "F",
                      "selected": true
                    },
                    {
                      "text": "H",
                      "selected": true
                    },
                    {
                      "text": "He",
                      "selected": true
                    },
                    {
                      "text": "K",
                      "selected": true
                    },
                    {
                      "text": "Li",
                      "selected": true
                    },
                    {
                      "text": "Mg",
                      "selected": true
                    },
                    {
                      "text": "N",
                      "selected": true
                    },
                    {
                      "text": "Na",
                      "selected": true
                    },
                    {
                      "text": "Ne",
                      "selected": true
                    },
                    {
                      "text": "O",
                      "selected": true
                    },
                    {
                      "text": "P",
                      "selected": true
                    },
                    {
                      "text": "S",
                      "selected": true
                    },
                    {
                      "text": "Si",
                      "selected": true
                    }
                  ]
                },
                "searchText": "",
                "active": false
              },
              "name": {
                "column": "name",
                "valueSet": {
                  "remote": false,
                  "truncated": false,
                  "values": [
                    {
                      "text": "Aluminum",
                      "selected": true
                    },
                    {
                      "text": "Argon",
                      "selected": true
                    },
                    {
                      "text": "Beryllium",
                      "selected": true
                    },
                    {
                      "text": "Boron",
                      "selected": true
                    },
                    {
                      "text": "Calcium",
                      "selected": true
                    },
                    {
                      "text": "Carbon",
                      "selected": true
                    },
                    {
                      "text": "Chlorine",
                      "selected": true
                    },
                    {
                      "text": "Fluorine",
                      "selected": true
                    },
                    {
                      "text": "Helium",
                      "selected": true
                    },
                    {
                      "text": "Hydrogen",
                      "selected": true
                    },
                    {
                      "text": "Lithium",
                      "selected": true
                    },
                    {
                      "text": "Magnesium",
                      "selected": true
                    },
                    {
                      "text": "Neon",
                      "selected": true
                    },
                    {
                      "text": "Nitrogen",
                      "selected": true
                    },
                    {
                      "text": "Oxygen",
                      "selected": true
                    },
                    {
                      "text": "Phosphorus",
                      "selected": true
                    },
                    {
                      "text": "Potassium",
                      "selected": true
                    },
                    {
                      "text": "Silicon",
                      "selected": true
                    },
                    {
                      "text": "Sodium",
                      "selected": true
                    },
                    {
                      "text": "Sulfur",
                      "selected": true
                    }
                  ]
                },
                "searchText": "",
                "active": false
              }
            }
          },
          "columns": {
            "id": {
              "id": "id",
              "text": "Id",
              "sortable": true,
              "size": "S",
              "textAlign": "LEFT"
            },
            "name": {
              "id": "name",
              "text": "Name",
              "sortable": true,
              "size": "L",
              "textAlign": "LEFT"
            },
            "weight": {
              "id": "weight",
              "text": "Weight",
              "sortable": false,
              "size": "M",
              "textAlign": "RIGHT"
            },
            "symbol": {
              "id": "symbol",
              "text": "Symbol",
              "sortable": false,
              "size": "S",
              "textAlign": "LEFT"
            },
            "price-eur": {
              "id": "price-eur",
              "text": "Price EUR",
              "sortable": false,
              "size": "M",
              "textAlign": "RIGHT"
            },
            "price-huf": {
              "id": "price-huf",
              "text": "Price HUF",
              "sortable": false,
              "size": "M",
              "textAlign": "RIGHT"
            },
            "actions": {
              "id": "actions",
              "text": "Actions",
              "sortable": false,
              "size": "AUTO",
              "textAlign": "LEFT"
            }
          },
          "rows": [
            {
              "id": "1",
              "cells": {
                "id": {
                  "type": "TextCell",
                  "value": "1",
                  "label": null
                },
                "name": {
                  "type": "TextCell",
                  "value": "Hydrogen",
                  "label": null
                },
                "weight": {
                  "type": "NumericCell",
                  "value": 1.0079,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 4,
                    "prefix": null,
                    "suffix": "g/mol"
                  }
                },
                "symbol": {
                  "type": "TextCell",
                  "value": "H",
                  "label": null
                },
                "price-eur": {
                  "type": "NumericCell",
                  "value": 1.0079,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 2,
                    "prefix": null,
                    "suffix": "â‚¬"
                  }
                },
                "price-huf": {
                  "type": "NumericCell",
                  "value": 372.923,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 0,
                    "prefix": null,
                    "suffix": "Ft"
                  }
                },
                "actions": {
                  "type": "ActionCell",
                  "value": [
                    {
                      "id": "edit",
                      "label": "Edit",
                      "icon": "edit",
                      "enabled": true
                    },
                    {
                      "id": "delete",
                      "label": "Delete",
                      "icon": "delete",
                      "enabled": false
                    }
                  ],
                  "label": null
                }
              },
              "selected": false
            },
            {
              "id": "2",
              "cells": {
                "id": {
                  "type": "TextCell",
                  "value": "2",
                  "label": null
                },
                "name": {
                  "type": "TextCell",
                  "value": "Helium",
                  "label": null
                },
                "weight": {
                  "type": "NumericCell",
                  "value": 4.0026,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 4,
                    "prefix": null,
                    "suffix": "g/mol"
                  }
                },
                "symbol": {
                  "type": "TextCell",
                  "value": "He",
                  "label": null
                },
                "price-eur": {
                  "type": "NumericCell",
                  "value": 4.0026,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 2,
                    "prefix": null,
                    "suffix": "â‚¬"
                  }
                },
                "price-huf": {
                  "type": "NumericCell",
                  "value": 1480.962,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 0,
                    "prefix": null,
                    "suffix": "Ft"
                  }
                },
                "actions": {
                  "type": "ActionCell",
                  "value": [
                    {
                      "id": "edit",
                      "label": "Edit",
                      "icon": "edit",
                      "enabled": true
                    },
                    {
                      "id": "delete",
                      "label": "Delete",
                      "icon": "delete",
                      "enabled": false
                    }
                  ],
                  "label": null
                }
              },
              "selected": false
            },
            {
              "id": "3",
              "cells": {
                "id": {
                  "type": "TextCell",
                  "value": "3",
                  "label": null
                },
                "name": {
                  "type": "TextCell",
                  "value": "Lithium",
                  "label": null
                },
                "weight": {
                  "type": "NumericCell",
                  "value": 6.941,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 4,
                    "prefix": null,
                    "suffix": "g/mol"
                  }
                },
                "symbol": {
                  "type": "TextCell",
                  "value": "Li",
                  "label": null
                },
                "price-eur": {
                  "type": "NumericCell",
                  "value": 6.941,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 2,
                    "prefix": null,
                    "suffix": "â‚¬"
                  }
                },
                "price-huf": {
                  "type": "NumericCell",
                  "value": 2568.17,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 0,
                    "prefix": null,
                    "suffix": "Ft"
                  }
                },
                "actions": {
                  "type": "ActionCell",
                  "value": [
                    {
                      "id": "edit",
                      "label": "Edit",
                      "icon": "edit",
                      "enabled": true
                    },
                    {
                      "id": "delete",
                      "label": "Delete",
                      "icon": "delete",
                      "enabled": false
                    }
                  ],
                  "label": null
                }
              },
              "selected": false
            },
            {
              "id": "4",
              "cells": {
                "id": {
                  "type": "TextCell",
                  "value": "4",
                  "label": null
                },
                "name": {
                  "type": "TextCell",
                  "value": "Beryllium",
                  "label": null
                },
                "weight": {
                  "type": "NumericCell",
                  "value": 9.0122,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 4,
                    "prefix": null,
                    "suffix": "g/mol"
                  }
                },
                "symbol": {
                  "type": "TextCell",
                  "value": "Be",
                  "label": null
                },
                "price-eur": {
                  "type": "NumericCell",
                  "value": 9.0122,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 2,
                    "prefix": null,
                    "suffix": "â‚¬"
                  }
                },
                "price-huf": {
                  "type": "NumericCell",
                  "value": 3334.514,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 0,
                    "prefix": null,
                    "suffix": "Ft"
                  }
                },
                "actions": {
                  "type": "ActionCell",
                  "value": [
                    {
                      "id": "edit",
                      "label": "Edit",
                      "icon": "edit",
                      "enabled": true
                    },
                    {
                      "id": "delete",
                      "label": "Delete",
                      "icon": "delete",
                      "enabled": false
                    }
                  ],
                  "label": null
                }
              },
              "selected": false
            },
            {
              "id": "5",
              "cells": {
                "id": {
                  "type": "TextCell",
                  "value": "5",
                  "label": null
                },
                "name": {
                  "type": "TextCell",
                  "value": "Boron",
                  "label": null
                },
                "weight": {
                  "type": "NumericCell",
                  "value": 10.811,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 4,
                    "prefix": null,
                    "suffix": "g/mol"
                  }
                },
                "symbol": {
                  "type": "TextCell",
                  "value": "B",
                  "label": null
                },
                "price-eur": {
                  "type": "NumericCell",
                  "value": 10.811,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 2,
                    "prefix": null,
                    "suffix": "â‚¬"
                  }
                },
                "price-huf": {
                  "type": "NumericCell",
                  "value": 4000.07,
                  "label": null,
                  "format": {
                    "validators": [],
                    "precision": 0,
                    "prefix": null,
                    "suffix": "Ft"
                  }
                },
                "actions": {
                  "type": "ActionCell",
                  "value": [
                    {
                      "id": "edit",
                      "label": "Edit",
                      "icon": "edit",
                      "enabled": true
                    },
                    {
                      "id": "delete",
                      "label": "Delete",
                      "icon": "delete",
                      "enabled": false
                    }
                  ],
                  "label": null
                }
              },
              "selected": false
            }
          ],
          "totalRow": null,
          "selectMode": "CHECKBOX",
          "notification": null
        },
        "button-ok": {
          "type": "Button",
          "id": "button-ok",
          "label": "OK",
          "hint": "OK button :-)",
          "enabled": true,
          "data": null,
          "style": "PRIMARY",
          "badge": null
        },
        "button-cancel": {
          "type": "Button",
          "id": "button-cancel",
          "label": "Cancel",
          "hint": null,
          "enabled": true,
          "data": null,
          "style": "NONE",
          "badge": null
        },
        "button-delete": {
          "type": "Button",
          "id": "button-delete",
          "label": "Delete",
          "hint": null,
          "enabled": true,
          "data": null,
          "style": "WARN",
          "badge": null
        }
      }
    };
    console.log(formData);
    return formData;
  }
</script>


<script type="text/javascript">
  const textInputName = document.getElementById("name");
  const textInputPlaceOfBirth = document.getElementById("place-of-birth");
  const textInputEmail = document.getElementById("email");
  const textInputRole = document.getElementById("role");
  const numericInputAmount = document.getElementById("amount");
  const numericInputCountSamples = document.getElementById("count-samples");
  const dateInputCheckIn = document.getElementById("check-in-date");
  const dateInputCheckOut = document.getElementById("check-out-date");
  const dateRangeInput = document.getElementById("date-range");
  const dateRangeInput2 = document.getElementById("date-range2");
  const select = document.getElementById("select");
  const select2 = document.getElementById("select2");
  const select3 = document.getElementById("select3");
  const table = document.getElementById("table-multiselect");
  const buttonOk = document.getElementById("button-ok");
  const buttonCancel = document.getElementById("button-cancel");
  const myForm = document.getElementById("myform");

  textInputName.formdata = getFormData();
  textInputPlaceOfBirth.formdata = getFormData();
  textInputEmail.formdata = getFormData();
  textInputRole.formdata = getFormData();
  numericInputAmount.formdata = getFormData();
  numericInputCountSamples.formdata = getFormData();
  dateInputCheckIn.formdata = getFormData();
  dateInputCheckOut.formdata = getFormData();
  dateRangeInput.formdata = getFormData();
  dateRangeInput2.formdata = getFormData();
  select.formdata = getFormData();
  select2.formdata = getFormData();
  select3.formdata = getFormData();
  table.formdata = getFormData();
  buttonOk.formdata = getFormData();
  buttonCancel.formdata = getFormData();

  myForm.addEventListener('onDataChange', e => {
    console.log(e.detail.data);
    // this.demoService.submitDemoForm({id: '', widgetDataMap: submitData}).subscribe(
    //   () => console.log('sumbitted'),
    //   error => console.log(error));
  })

  buttonOk.addEventListener('click', e => {
    console.log(myForm.formgroup);
    myForm.formgroup.markAllAsTouched();
    if (!myForm.formgroup.valid)
    {
      console.warn('Data is invalid!');
    }
    else
    {
      myForm.formdata = getFormData();
    }
  })
</script>

</body>
</html>
